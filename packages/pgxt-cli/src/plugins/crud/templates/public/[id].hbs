import routeFactory, {
  type RetrieveResponse,
  type UpdateResponse,
  type DeleteResponse,
  type UpdateT,
} from "{{importPathmap.lib}}/[id]";

export default routeFactory(({ get, patch, del }) => [
  get<never, object, RetrieveResponse>(async (ctx) => {
    ctx.body = await ctx.crud.worker();
  }),

  patch<never, { payload: UpdateT }, UpdateResponse>(async (ctx) => {
    ctx.body = await ctx.crud.worker(ctx.payload);
  }),

  del<never, object, DeleteResponse>(async (ctx) => {
    ctx.body = await ctx.crud.worker();
  }),
]);
